@using Microsoft.AspNetCore.Identity
@inject UserManager<ManutationItemsApp.Domain.Entities.ApplicationUser> UserManager
@inject SignInManager<ManutationItemsApp.Domain.Entities.ApplicationUser> SignInManager
@{
    if (SignInManager.IsSignedIn(User))
    {
        var user = UserManager.FindByNameAsync(User.Identity.Name);
    }
}
@{
    ViewData["Title"] = "Home Page";
}

<div class="loader" id="AjaxLoader" style="display:none;">
    <button class="btn btn-primary" type="button" disabled>
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        Loading...
    </button>
</div>

<div id="partialViewDiv">


    @if (SignInManager.IsSignedIn(User))
    {
    <div class="container">
        <div class="row justify-content-between">
            <div class="col-lg-3">
                @await Component.InvokeAsync("Button", new { buttonText = "Le mie attività", roleId = ViewBag.roleId })
                @*<div class="row mt-4 ">
                    <div class="float-left">
                        @if (ViewBag.ManutationsToValidateCount > 0)
                        {
                            <a type="button" class="btn btn-warning" asp-action="Index" asp-controller="ManutationStages">Le mie attività <span class="badge badge-danger">@ViewBag.ManutationsToValidateCount</span></a>

                        }
                        else
                        {
                            <a type="button" class="btn btn-warning" asp-action="Index" asp-controller="ManutationStages">Le mie attività</a>

                        }
                    </div>
                </div>*@
            </div>
            <div class="col-lg-3">
                @await Component.InvokeAsync("Button", new { buttonText = "Asset", roleId = ViewBag.roleId })
                @await Component.InvokeAsync("Button", new { buttonText = "Items", roleId = ViewBag.roleId })
            </div>




            <div class="col-lg-6 jus">
                @await Component.InvokeAsync("Button", new { buttonText = "Utenti", roleId = ViewBag.roleId })
                @await Component.InvokeAsync("Button", new { buttonText = "Fornitori", roleId = ViewBag.roleId })
                @await Component.InvokeAsync("Button", new { buttonText = "Outsourcer", roleId = ViewBag.roleId })
            </div>

        </div>
        <div class="row mt-4">
            <div class="col-lg-12">

                @await Component.InvokeAsync("Button", new { buttonText = "Calendario", roleId = ViewBag.roleId })
            </div>
        </div>
        <div class="row justify-content-center mt-4">
            <div class="col-6">

                @await Component.InvokeAsync("Button", new { buttonText = "Nuova Richiesta", roleId = ViewBag.roleId })
                @await Component.InvokeAsync("Button", new { buttonText = "Preventiva", roleId = ViewBag.roleId })
            </div>
            <div class="col-6">
                @await Component.InvokeAsync("Button", new { buttonText = "Pulizie", roleId = ViewBag.roleId })
                @await Component.InvokeAsync("Button", new { buttonText = "Predittiva", roleId = ViewBag.roleId })
            </div>

                </div>

                <div class="row justify-content-center mt-4">
                    <div class="col-6">
                        @await Component.InvokeAsync("Button", new { buttonText = "Parti di ricambio - Materiali di consumo", roleId = ViewBag.roleId })
                    </div>
                    <div class="col-6 justify-content-center">
                        @await Component.InvokeAsync("Button", new { buttonText = "Attrezzature", roleId = ViewBag.roleId })
                        @await Component.InvokeAsync("Button", new { buttonText = "Strumenti", roleId = ViewBag.roleId })
                    </div>
                </div>

                <div class="row justify-content-center mt-4">
                    <div class="col-4">
                        @await Component.InvokeAsync("Button", new { buttonText = "Kpi", roleId = ViewBag.roleId })
                    </div>
                    <div class="col-4">
                        @await Component.InvokeAsync("Button", new { buttonText = "Audit", roleId = ViewBag.roleId })
                    </div>
                    <div class="col-4">
                        @await Component.InvokeAsync("Button", new { buttonText = "Management Review", roleId = ViewBag.roleId })
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col-12">
                        @await Component.InvokeAsync("Button", new { buttonText = "Master Action Plan", roleId = ViewBag.roleId })
                    </div>
                </div>
            </div>
            }
     </div>

